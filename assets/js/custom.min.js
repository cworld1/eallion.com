window.Lately=new function(){this.lang={second:"秒",minute:"分钟",hour:"小时",day:"天",month:"个月",year:"年",ago:"前",error:"NaN"};const e=e=>{e=new Date(t(e));const n=new function(){this.second=(Date.now()-e.getTime())/1e3,this.minute=this.second/60,this.hour=this.minute/60,this.day=this.hour/24,this.month=this.day/30,this.year=this.month/12},a=Object.keys(n).reverse().find((e=>n[e]>=1));return(a?(i=n[a],l=this.lang[a],Math.floor(i)+l):this.lang.error)+this.lang.ago;var i,l},t=e=>(e=new Date(e&&("number"==typeof e?e:e.replace(/-/g,"/").replace("T"," "))),!isNaN(e.getTime())&&e.getTime());return{init:({target:n="time",lang:a}={})=>{a&&(this.lang=a);for(let a of document.querySelectorAll(n)){const n=t(a.dateTime)||t(a.title)||t(a.innerHTML)||0;if(!n)return;a.title=new Date(n).toLocaleString(),a.innerHTML=e(n)}},format:e}};let jsonUrl="https://api.eallion.com/memos/memos.json?t="+Date.parse(new Date);document.querySelector("#ticker")&&(fetch(jsonUrl).then((e=>e.json())).then((e=>{for(var t="",n=e,a=0;a<n.length;a++){t+=`<li class="item"><span class="datetime">${new Date(1e3*n[a].createdTs).toLocaleString()}</span>：<a href="https://eallion.com/memos/">${(e=>e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"))(n[a].content).replace(/```([\s\S]*?)```[\s]*/g," <code>$1</code> ").replace(/`([\s\S ]*?)`[\s]*/g," <code>$1</code> ").replace(/\!\[[\s\S]*?\]\(([\s\S]*?)\)/g,"$1").replace(/\[[\s\S]*?\]\(([\s\S]*?)\)/g,"$1").replace(/<video [^>]*src=['"](.+?[^'"]\.(mp4|webm|ogv)+)[^>]*>/g,"$1")}</a></li>`}var i=document.querySelector("#ticker");resultAll='<i class=\'fab fa-twitter\'></i><div class="ticker-wrap"><ul class="ticker-list">'+t+"</ul></div>",i.innerHTML=resultAll,window.Lately&&Lately.init({target:".datetime"})})),setInterval((function(){for(var e=document.querySelector(".ticker-list"),t=e.querySelectorAll(".item"),n=0;n<t.length;n++)setTimeout((function(){e.appendChild(t[0])}),2e3)}),2e3)),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".ai-explanation-content");e&&new TypeIt("#ai-explanation",{strings:e.textContent,speed:50,lifeLike:!0,waitUntilVisible:!0}).go()})),document.addEventListener("DOMContentLoaded",(()=>{pangu.autoSpacingPage()}));
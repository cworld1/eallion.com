let jsonUrl="https://api.eallion.com/mastodon/api/v1/accounts/111136231674527355/statuses?limit=10&exclude_replies=true&exclude_reblogs=true";function getSimpleText(e){var t=new RegExp("<.+?>","g");return e.replace(t,"")}window.Lately=new function(){this.lang={second:" 秒",minute:" 分钟",hour:" 小时",day:" 天",month:" 个月",year:" 年",ago:"前",error:"NaN"};const e=e=>{e=new Date(t(e));const n=new function(){this.second=(Date.now()-e.getTime())/1e3,this.minute=this.second/60,this.hour=this.minute/60,this.day=this.hour/24,this.month=this.day/30,this.year=this.month/12},i=Object.keys(n).reverse().find((e=>n[e]>=1));return(i?(a=n[i],r=this.lang[i],Math.floor(a)+r):this.lang.error)+this.lang.ago;var a,r},t=e=>(e=new Date(e&&("number"==typeof e?e:e.replace(/-/g,"/").replace("T"," "))),!isNaN(e.getTime())&&e.getTime());return{init:({target:n="time",lang:i}={})=>{i&&(this.lang=i);for(let i of document.querySelectorAll(n)){const n=t(i.dateTime)||t(i.title)||t(i.innerHTML)||0;if(!n)return;i.title=new Date(n).toLocaleString(),i.innerHTML=e(n)}},format:e}},document.querySelector("#ticker")&&(fetch(jsonUrl).then((e=>e.json())).then((e=>{for(var t="",n=e,i=0;i<n.length;i++){var a=new Date(n[i].created_at).toLocaleString();t+=`<li class="item"><span class="item-detail">嘀咕：<a href="/toot/">${pangu.spacing(getSimpleText(n[i].content))}</a></span><span>&lsqb;<span class="datetime">${a}</span>&rsqb;</span></li>`}var r=document.querySelector("#ticker");resultAll='<i class="fab fa-mastodon"></i><div class="ticker-wrap"><ul class="ticker-list">'+t+"</ul></div>",r.innerHTML=resultAll,window.Lately&&Lately.init({target:".datetime"})})),setInterval((function(){for(var e=document.querySelector(".ticker-list"),t=e.querySelectorAll(".item"),n=0;n<t.length;n++)setTimeout((function(){e.appendChild(t[0])}),2e3)}),2e3)),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".ai-explanation-content");e&&new TypeIt("#ai-explanation",{strings:e.textContent,speed:30,lifeLike:!0,waitUntilVisible:!0}).go()})),document.addEventListener("DOMContentLoaded",(()=>{pangu.spacingElementByClassName("page")}));
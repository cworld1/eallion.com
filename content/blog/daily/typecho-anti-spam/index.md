---
title: "typecho 应对垃圾评论"
# images: ["/assets/images/og/typecho-anti-spam.png"]
authors: ["eallion"]
categories: ["日志"]
tags: ["评论","留言","spam","垃圾评论"]
draft: false
slug: "typecho-anti-spam"
summary: "这篇文章介绍了如何使用Typecho来应对垃圾评论。作者使用了Akismet和Typepad这两个插件来阻止垃圾评论，同时保留了正常评论。作者还提到了使用Ajax插件来提高用户体验，但由于与主题的冲突，评论嵌套功能无法生效。此外，作者还介绍了评论邮件提醒插件和显示评论者操作系统和浏览器图标的插件（虽然数据有些过时，但仍有趣）。"
date: "2017-05-12 20:12:00"
lastmod: "2017-05-12 20:12:00"
---

最近真的烦，每天有几千的垃圾评论，我也是醉了。所以把评论条件搞得很严格，也不知道会不会对用户体验产生多少负面影响，也不知道会不会误伤夹杂在其实的正常评论。如果有的话，真的表示抱歉。

主要防 spam 的手段从 2 个方面，从 2 个插件入手。

### Akismet

Akismet 确实是一个神器，从 WordPress 黄金时代开始，Akismet 久经考验，功能强大，基于云功能，能防御大部分垃圾评论。
跟 Akismet 差不多的还有 Typepad。

### CommentFilter

这个插件有几个方面主要功能

- 屏蔽机器人评论
- 屏蔽 IP
- 非中文评论
- 禁止词汇
- 敏感词汇

除了禁止词汇，直接返回失败，其他的功能，如果评论满足条件都只是标记为待审核。因为真的怕误伤朋友的评论。其中屏蔽的 ip 库我是已经数不过来了。

### 其他插件

然后跟评论有关的插件是

- AjaxComment

Ajax 对提升用户体验有一定的帮助，它可以让访客在不刷新当前页面的情况下提交评论。但是这个目前跟我的主题有冲突，就是如果直接回复评论的话，评论嵌套功能就不能生效，目前没有动手去修改这个插件，将就在用的。

- CommentToMail

评论邮件提醒插件。
我最开始用的是 Gmail 的 smtp 服务器，因为我的域名邮箱是放在 Google G suite 的，但是后来有朋友反映 hotmail 收不到我博客的提醒邮件，于是我就把邮件提醒的 smtp 服务器改为阿里云的邮件推送服务了。

- UserAgent

这个是显示评论者的操作系统和浏览器图标的，插件发布得比较早，数据有点老，所以比如常见的最新的 Ubuntu 16.04 图标就不能正确显示，除了动手添加了几个浏览器的图标以外，并没有修复不能识别操作系统的问题。
这个插件只是好玩，并没有什么实际作用。

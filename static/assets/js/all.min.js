jQuery(document).ready((function($){var t_img;$("photos img").each((function(){var _a=$("<a></a>").attr("href",this.src);$(this).wrap("<div class='photo'></div>").wrap(_a)})),isImgLoad((function(){var photos=document.querySelector("photos");photos&&waterfall(photos),$(window).resize((function(){photos&&waterfall(photos)}))}));var isLoad=!0;function isImgLoad(callback){$("photos img").each((function(){if(0===this.height)return isLoad=!1,!1})),isLoad?(clearTimeout(t_img),callback()):(isLoad=!0,t_img=setTimeout((function(){isImgLoad(callback)}),500))}})),function(global,undefined){"use strict";let _global,Lately=option=>{let target=option.target||".time",lang=option.lang||{second:"秒",minute:"分钟",hour:"小时",day:"天",month:"个月",year:"年",ago:"前",error:"NaN"},_count=date=>{date=new Date(date);let second=((new Date).getTime()-date.getTime())/1e3,minute=second/60,hour=minute/60,day=hour/24,month=day/30,year=month/12,floor=(num,_lang)=>Math.floor(num)+_lang,result="";return result=year>=1?floor(year,lang.year):month>=1?floor(month,lang.month):day>=1?floor(day,lang.day):hour>=1?floor(hour,lang.hour):minute>=1?floor(minute,lang.minute):second>=1?floor(second,lang.second):lang.error,result+lang.ago};for(let contain of document.querySelectorAll(target)){let date="",date_time=contain.dateTime,title=contain.title,html=contain.innerHTML;if(date_time&&!isNaN(new Date(date_time=date_time.replace(/(.*)[a-z](.*)\+(.*)/gi,"$1 $2").replace(/-/g,"/"))))date=date_time;else if(title&&!isNaN(new Date(title=title.replace(/-/g,"/"))))date=title;else{if(!html||isNaN(new Date(html=html.replace(/-/g,"/"))))return;date=html}contain.title=date,contain.innerHTML=_count(date)}};_global=function(){return this||(0,eval)("this")}(),!("Lately"in _global)&&(_global.Lately=Lately)}(),jQuery(document).ready((function($){$(".post-content img:not(.avatar)").each((function(){var _b=$("<a></a>").attr({href:this.src,"data-fancybox":"gallery"});$(this).wrap(_b)}));var selector=".post-content a[rel!=link]:has(img:not(.non-box))";$('[data-fancybox="gallery"]').fancybox({selector:selector,loop:!1,arrows:!1,buttons:["close"],infobar:!1,ideScrollbar:!0,lang:"zh",i18n:{zh:{CLOSE:"关闭",NEXT:"下一张",PREV:"上一张",ERROR:"不能加载图片，<br/>请稍后再试。",PLAY_START:"播放幻灯片",PLAY_STOP:"暂停幻灯片",FULL_SCREEN:"全屏",THUMBS:"缩略图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}});var nav=$(".tocify");if(nav.length>0){nav.removeClass("hide");var navTop=$(".post-content").offset().top,w=$(window).width()/2+400;nav.css("left",w),nav.css("top",navTop),$(window).scroll((function(){var scrolls;$(this).scrollTop()>navTop?nav.css({top:0,position:"fixed"}):nav.css({top:navTop,position:"absolute"})}))}var parse_url=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,location_href=window.location.href.replace(parse_url,"$3");$(".post-content a:not(:has(img)),.author-name a,.links-item a,a.read-more").hover((function(){var this_href=$(this).attr("href"),replace_href=this_href.replace(parse_url,"$3");this_href!=replace_href&&location_href!=replace_href&&$(this).attr({target:"_blank",rel:"noopener noreferrer"})}))})),$(document).ready((function(){if($("#index-talk").length>0){function urlToLink(str){var re=/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|jfif|gif))\S+/g,re_forpic=/\bhttps?:[^:<>"]*\/([^:<>"]*)(\.(jpe?g)|(png)|(bmp)|(jfif)|(webp))/g,re_share=/(\#share)|(\#Share)/g;return str=(str=(str=str.replace(re,(function(website){return'<span class="iconify-inline" data-icon="bx:link-external"></span>'}))).replace(re_forpic,(function(imgurl){return'<span class="iconify-inline" data-icon="bi:image-fill"></span>'}))).replace(re_share,"")}function Roll(){var list_li=$(".talk-list li"),cur_li=list_li.first(),last_li;list_li.last().after(cur_li)}jsonUrl="https://6561-eallion-8gkunp4re49bae66-1251347414.tcb.qcloud.la/json/talks.json",$.getJSON(jsonUrl+"?t="+Date.parse(new Date),(function(res){var bberCount=res.count,talksHtml="";$.each(res.data,(function(i,item){d=new Date(item.date),date=d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+" "+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds(),dataTime='<span class="datatime">'+date+"</span>",talksHtml+='<li class="item item-'+(i+1)+'">'+dataTime+'： <a href="https://eallion.com/talks/" target="_blank" rel="noopener noreferrer">'+urlToLink(item.content)+"</a></li>"})),$("#index-talk").append('<span class="iconify-inline" data-icon="icon-park-outline:people-speak"></span> <ul class="talk-list">'+talksHtml+"</ul>"),Lately({target:".datatime"})}));var timer=null;function startSetInterval(){timer=setInterval(Roll,3e3)}startSetInterval(),$("#index-talk").hover((function(){clearInterval(timer)}),(function(){startSetInterval()})),$("button").click((function(){$(this).parents("#index-talk").remove()}))}})),Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"tabs-to-spaces":2,indent:0}),function(){if("undefined"!=typeof Prism&&"undefined"!=typeof document)if(Prism.plugins.toolbar)var Languages_none="Plain text",Languages_plain="Plain text",Languages_plaintext="Plain text",Languages_text="Plain text",Languages_txt="Plain text",Languages_html="HTML",Languages_xml="XML",Languages_svg="SVG",Languages_mathml="MathML",Languages_ssml="SSML",Languages_rss="RSS",Languages_css="CSS",Languages_clike="C-like",Languages_js="JavaScript",Languages_abap="ABAP",Languages_abnf="ABNF",Languages_al="AL",Languages_antlr4="ANTLR4",Languages_g4="ANTLR4",Languages_apacheconf="Apache Configuration",Languages_apl="APL",Languages_aql="AQL",Languages_ino="Arduino",Languages_arff="ARFF",Languages_armasm="ARM Assembly",Languages_arm_asm="ARM Assembly",Languages_art="Arturo",Languages_asciidoc="AsciiDoc",Languages_adoc="AsciiDoc",Languages_aspnet="ASP.NET (C#)",Languages_asm6502="6502 Assembly",Languages_asmatmel="Atmel AVR Assembly",Languages_autohotkey="AutoHotkey",Languages_autoit="AutoIt",Languages_avisynth="AviSynth",Languages_avs="AviSynth",Languages_avro_idl="Avro IDL",Languages_avdl="Avro IDL",Languages_awk="AWK",Languages_gawk="GAWK",Languages_basic="BASIC",Languages_bbcode="BBcode",Languages_bnf="BNF",Languages_rbnf="RBNF",Languages_bsl="BSL (1C:Enterprise)",Languages_oscript="OneScript",Languages_csharp="C#",Languages_cs="C#",Languages_dotnet="C#",Languages_cpp="C++",Languages_cfscript="CFScript",Languages_cfc="CFScript",Languages_cil="CIL",Languages_cmake="CMake",Languages_cobol="COBOL",Languages_coffee="CoffeeScript",Languages_conc="Concurnas",Languages_csp="Content-Security-Policy",Languages_css_extras="CSS Extras",Languages_csv="CSV",Languages_cue="CUE",Languages_dataweave="DataWeave",Languages_dax="DAX",Languages_django="Django/Jinja2",Languages_jinja2="Django/Jinja2",Languages_dns_zone_file="DNS zone file",Languages_dns_zone="DNS zone file",Languages_dockerfile="Docker",Languages_dot="DOT (Graphviz)",Languages_gv="DOT (Graphviz)",Languages_ebnf="EBNF",Languages_editorconfig="EditorConfig",Languages_ejs="EJS",Languages_etlua="Embedded Lua templating",Languages_erb="ERB",Languages_excel_formula="Excel Formula",Languages_xlsx="Excel Formula",Languages_xls="Excel Formula",Languages_fsharp="F#",Languages_firestore_security_rules="Firestore security rules",Languages_ftl="FreeMarker Template Language",Languages_gml="GameMaker Language",Languages_gamemakerlanguage="GameMaker Language",Languages_gap="GAP (CAS)",Languages_gcode="G-code",Languages_gdscript="GDScript",Languages_gedcom="GEDCOM",Languages_gettext="gettext",Languages_po="gettext",Languages_glsl="GLSL",Languages_gn="GN",Languages_gni="GN",Languages_linker_script="GNU Linker Script",Languages_ld="GNU Linker Script",Languages_go_module="Go module",Languages_go_mod="Go module",Languages_graphql="GraphQL",Languages_hbs="Handlebars",Languages_hs="Haskell",Languages_hcl="HCL",Languages_hlsl="HLSL",Languages_http="HTTP",Languages_hpkp="HTTP Public-Key-Pins",Languages_hsts="HTTP Strict-Transport-Security",Languages_ichigojam="IchigoJam",Languages_icu_message_format="ICU Message Format",Languages_idr="Idris",Languages_ignore=".ignore",Languages_gitignore=".gitignore",Languages_hgignore=".hgignore",Languages_npmignore=".npmignore",Languages_inform7="Inform 7",Languages_javadoc="JavaDoc",Languages_javadoclike="JavaDoc-like",Languages_javastacktrace="Java stack trace",Languages_jq="JQ",Languages_jsdoc="JSDoc",Languages_js_extras="JS Extras",Languages_json="JSON",Languages_webmanifest="Web App Manifest",Languages_json5="JSON5",Languages_jsonp="JSONP",Languages_jsstacktrace="JS stack trace",Languages_js_templates="JS Templates",Languages_keepalived="Keepalived Configure",Languages_kts="Kotlin Script",Languages_kt="Kotlin",Languages_kumir="KuMir (КуМир)",Languages_kum="KuMir (КуМир)",Languages_latex="LaTeX",Languages_tex="TeX",Languages_context="ConTeXt",Languages_lilypond="LilyPond",Languages_ly="LilyPond",Languages_emacs="Lisp",Languages_elisp="Lisp",Languages_emacs_lisp="Lisp",Languages_llvm="LLVM IR",Languages_log="Log file",Languages_lolcode="LOLCODE",Languages_magma="Magma (CAS)",Languages_md="Markdown",Languages_markup_templating="Markup templating",Languages_matlab="MATLAB",Languages_maxscript="MAXScript",Languages_mel="MEL",Languages_mongodb="MongoDB",Languages_moon="MoonScript",Languages_n1ql="N1QL",Languages_n4js="N4JS",Languages_n4jsd="N4JS",Languages_nand2tetris_hdl="Nand To Tetris HDL",Languages_naniscript="Naninovel Script",Languages_nani="Naninovel Script",Languages_nasm="NASM",Languages_neon="NEON",Languages_nginx="nginx",Languages_nsis="NSIS",Languages_objectivec="Objective-C",Languages_objc="Objective-C",Languages_ocaml="OCaml",Languages_opencl="OpenCL",Languages_openqasm="OpenQasm",Languages_qasm="OpenQasm",Languages_parigp="PARI/GP",Languages_objectpascal="Object Pascal",Languages_psl="PATROL Scripting Language",Languages_pcaxis="PC-Axis",Languages_px="PC-Axis",Languages_peoplecode="PeopleCode",Languages_pcode="PeopleCode",Languages_php="PHP",Languages_phpdoc="PHPDoc",Languages_php_extras="PHP Extras",Languages_plant_uml="PlantUML",Languages_plantuml="PlantUML",Languages_plsql="PL/SQL",Languages_powerquery="PowerQuery",Languages_pq="PowerQuery",Languages_mscript="PowerQuery",Languages_powershell="PowerShell",Languages_promql="PromQL",Languages_properties=".properties",Languages_protobuf="Protocol Buffers",Languages_purebasic="PureBasic",Languages_pbfasm="PureBasic",Languages_purs="PureScript",Languages_py="Python",Languages_qsharp="Q#",Languages_qs="Q#",Languages_q="Q (kdb+ database)",Languages_qml="QML",Languages_rkt="Racket",Languages_cshtml="Razor C#",Languages_razor="Razor C#",Languages_jsx="React JSX",Languages_tsx="React TSX",Languages_renpy="Ren'py",Languages_rpy="Ren'py",Languages_rest="reST (reStructuredText)",Languages_robotframework="Robot Framework",Languages_robot="Robot Framework",Languages_rb="Ruby",Languages_sas="SAS",Languages_sass="Sass (Sass)",Languages_scss="Sass (Scss)",Languages_shell_session="Shell session",Languages_sh_session="Shell session",Languages_shellsession="Shell session",Languages_sml="SML",Languages_smlnj="SML/NJ",Languages_solidity="Solidity (Ethereum)",Languages_sol="Solidity (Ethereum)",Languages_solution_file="Solution file",Languages_sln="Solution file",Languages_soy="Soy (Closure Template)",Languages_sparql="SPARQL",Languages_rq="SPARQL",Languages_splunk_spl="Splunk SPL",Languages_sqf="SQF: Status Quo Function (Arma 3)",Languages_sql="SQL",Languages_stata="Stata Ado",Languages_iecst="Structured Text (IEC 61131-3)",Languages_supercollider="SuperCollider",Languages_sclang="SuperCollider",Languages_systemd="Systemd configuration file",Languages_t4_templating="T4 templating",Languages_t4_cs="T4 Text Templates (C#)",Languages_t4="T4 Text Templates (C#)",Languages_t4_vb="T4 Text Templates (VB)",Languages_tap="TAP",Languages_tt2="Template Toolkit 2",Languages_toml="TOML",Languages_trickle="trickle",Languages_troy="troy",Languages_trig="TriG",Languages_ts="TypeScript",Languages_tsconfig="TSConfig",Languages_uscript="UnrealScript",Languages_uc="UnrealScript",Languages_uorazor="UO Razor Script",Languages_uri="URI",Languages_url="URL",Languages_vbnet="VB.Net",Languages_vhdl="VHDL",Languages_vim="vim",Languages_visual_basic="Visual Basic",Languages_vba="VBA",Languages_vb="Visual Basic",Languages_wasm="WebAssembly",Languages_web_idl="Web IDL",Languages_webidl="Web IDL",Languages_wiki="Wiki markup",Languages_wolfram="Wolfram language",Languages_nb="Mathematica Notebook",Languages_wl="Wolfram language",Languages_xeoracube="XeoraCube",Languages_xml_doc="XML doc (.net)",Languages_xojo="Xojo (REALbasic)",Languages_xquery="XQuery",Languages_yaml="YAML",Languages_yml="YAML",Languages_yang="YANG";else console.warn("Show Languages plugin loaded before Toolbar plugin.")}(),$("code").addClass("language-none match-braces");const container=document.querySelector(".container"),menu=document.querySelector(".menu"),mobileMenuTrigger=document.querySelector(".menu-trigger"),desktopMenu=document.querySelector(".menu__inner--desktop"),desktopMenuTrigger=document.querySelector(".menu__sub-inner-more-trigger"),menuMore=document.querySelector(".menu__sub-inner-more"),mobileQuery=getComputedStyle(document.body).getPropertyValue("--phoneWidth"),isMobile=()=>window.matchMedia(mobileQuery).matches,isMobileMenu=()=>{mobileMenuTrigger&&mobileMenuTrigger.classList.toggle("hidden",!isMobile()),menu&&menu.classList.toggle("hidden",isMobile()),menuMore&&menuMore.classList.toggle("hidden",!isMobile())};function getcolorscheme(){let storageColorScheme=localStorage.getItem("lightDarkMode"),element=document.getElementById("lightDarkMode"),targetDiv=document.getElementById("lightDarkOptions"),targets=targetDiv.getElementsByTagName("span"),screen=document.getElementById("is-open");element.addEventListener("click",()=>{targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden")});for(let target of targets)target.addEventListener("click",()=>{let targetName=target.getAttribute("name"),icon=switchMode(targetName),old_icon=element.firstElementChild.getAttribute("data-icon");element.firstElementChild.setAttribute("data-icon",icon),localStorage.setItem("lightDarkMode",targetName),targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden");let event=new Event("themeChanged");document.dispatchEvent(event)});screen.addEventListener("click",()=>{targetDiv.classList.toggle("hidden"),screen.classList.toggle("hidden")})}function switchMode(mode){let icon="";switch(mode){case"Light":window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",switchDarkMode),icon="akar-icons:sun-fill",document.body.classList.remove("dark");break;case"Dark":window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",switchDarkMode),icon="akar-icons:moon-fill",document.body.classList.add("dark");break;case"Auto":icon="bxs:adjust";const isDarkMode=window.matchMedia("(prefers-color-scheme: dark)");switchDarkMode(isDarkMode),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)}return icon}function switchDarkMode(e){e.matches?document.body.classList.add("dark"):document.body.classList.remove("dark")}menu&&menu.addEventListener("click",e=>e.stopPropagation()),menuMore&&menuMore.addEventListener("click",e=>e.stopPropagation()),isMobileMenu(),document.body.addEventListener("click",()=>{isMobile()||!menuMore||menuMore.classList.contains("hidden")?isMobile()&&!menu.classList.contains("hidden")&&menu.classList.add("hidden"):menuMore.classList.add("hidden")}),window.addEventListener("resize",isMobileMenu),mobileMenuTrigger&&mobileMenuTrigger.addEventListener("click",e=>{e.stopPropagation(),menu&&menu.classList.toggle("hidden")}),desktopMenuTrigger&&desktopMenuTrigger.addEventListener("click",e=>{e.stopPropagation(),menuMore&&menuMore.classList.toggle("hidden"),menuMore&&menuMore.getBoundingClientRect().right>container.getBoundingClientRect().right&&(menuMore.style.left="auto",menuMore.style.right=0)}),function($){"use strict";$.fn.toTop=function(opt){var elem=this,win=$(window),doc=$("html, body"),options=$.extend({autohide:!0,offset:420,speed:500,position:!0,right:15,bottom:30},opt);elem.css({cursor:"pointer"}),options.autohide&&elem.css("display","none"),options.position&&elem.css({position:"fixed",right:options.right,bottom:options.bottom}),elem.click((function(){doc.animate({scrollTop:0},options.speed)})),win.scroll((function(){var scrolling=win.scrollTop();options.autohide&&(scrolling>options.offset?elem.fadeIn(options.speed):elem.fadeOut(options.speed))}))}}(jQuery),$(".to-top").toTop({autohide:!0,offset:420,speed:500,position:!0,right:15,bottom:30});
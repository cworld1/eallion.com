function search(t){document.querySelectorAll(".sorting").forEach((t=>t.classList.add("hide"))),document.querySelector(`.dvtjjf.active[data-search="${t.target.dataset.search}"]`)?.classList.remove("active"),t.target.dataset.value&&t.target.classList.add("active");const e=document.querySelectorAll(".dvtjjf.active"),a=`.sorting${Array.from(e,(t=>`[${`data-${t.dataset.search}`}${"contain"===t.dataset.method?"*":"^"}='${"contain"===t.dataset.method?`${t.dataset.value}`:t.dataset.value}']`)).join("")}`;document.querySelectorAll(a).forEach((t=>t.classList.remove("hide")))}function sort(t){const e=t.target.dataset.order,a=document.createElement("style");if(a.classList.add("sort-order-style"),document.querySelector("style.sort-order-style")?.remove(),document.querySelector(".sort-by-item.active")?.classList.remove("active"),t.target.classList.add("active"),"rating"===e){const t=Array.from(document.querySelectorAll(".sorting"));t.sort(((t,e)=>{const a=parseFloat(t.dataset.rating)||0,s=parseFloat(e.dataset.rating)||0;return a===s?0:a>s?-1:1}));const e=t.map(((t,e)=>{t.querySelectorAll(".rating_star").forEach((t=>{t.classList.contains("hidden")&&t.classList.remove("hidden")}));const a=t.querySelector(".rating_count");return a&&!a.classList.contains("hidden")&&a.classList.add("hidden"),`.sorting[data-rating="${t.dataset.rating}"] { order: ${e}; }`})).join("\r\n");a.innerHTML=e,document.body.appendChild(a)}else if("count"===e){const t=Array.from(document.querySelectorAll(".sorting"));t.sort(((t,e)=>{const a=parseInt(t.dataset.count)||0,s=parseInt(e.dataset.count)||0;return a===s?0:a>s?-1:1}));const e=t.map(((t,e)=>{t.querySelectorAll(".rating_star").forEach((t=>{t.classList.contains("hidden")||t.classList.add("hidden")}));const a=t.querySelector(".rating_count");return a&&a.classList.contains("hidden")&&a.classList.remove("hidden"),`.sorting[data-count="${t.dataset.count}"] { order: ${e}; }`})).join("\r\n");a.innerHTML=e,document.body.appendChild(a)}else if("time"===e){const t=Array.from(document.querySelectorAll(".sorting"));t.sort(((t,e)=>{const a=parseInt(t.dataset.time)||0,s=parseInt(e.dataset.time)||0;return a===s?0:a>s?-1:1}));const e=t.map(((t,e)=>{t.querySelectorAll(".rating_star").forEach((t=>{t.classList.contains("hidden")&&t.classList.remove("hidden")}));const a=t.querySelector(".rating_count");return a&&!a.classList.contains("hidden")&&a.classList.add("hidden"),`.sorting[data-time="${t.dataset.time}"] { order: ${e}; }`})).join("\r\n");a.innerHTML=e,document.body.appendChild(a)}}window.addEventListener("click",(function(t){t.target.classList.contains("sc-gtsrHT")&&(t.preventDefault(),search(t))})),window.addEventListener("click",(function(t){t.target.classList.contains("sort-by-item")&&(t.preventDefault(),sort(t))}));
{{ $scratch := newScratch }} {{ range (where .Site.Pages "Kind" "page" ) }}
{{ $scratch.Add "total" .WordCount }} {{ end }}
<footer class="footer">
    <div class="footer__inner">
        <!-- https://github.com/eallion/eallion.com/tree/16c9ebe6cd303d9029ced7eef7dfb780f63c4a0d -->
        {{ if $.Site.Copyright }}
        <div class="copyright copyright--user">
            {{ $.Site.Copyright | safeHTML }}
        </div>
        {{ else }}
        <div class="footer__title">
            <span class="footer__title-h">
                {{ range .Site.Data.hellofriend.social.social_icons }} {{- if isset $.Site.Author .id }}
                <a
                    href="{{ printf .url (index $.Site.Author .id) }}"
                    target="_blank"
                    rel="noopener noreferrer"
                    title="{{ .title }}"
                >
                    <i class="{{ .icon }}"></i>
                </a>
                {{- end -}} {{ end }}
            </span>
            <hr />
        </div>
        <div class="copyright words">
            <span
                >共 {{ len (where .Site.RegularPages "Section" "posts") }}
                篇文章</span
            ><span>约 {{ $scratch.Get "total" }} 字</span>
        </div>
        <div class="copyright">
            <span
                >&copy; {{ now.Year }}
                <a
                    href="https://eallion.com/copyright/"
                    target="_self"
                    rel="noopener noreferrer"
                    >eallion.com</a
                >, All Rights Reserved.</span
            >
        </div>
        <div class="copyright">
            <span>
                Powered by <i class="iconfont icon-Hugo"></i>
                <a
                    href="https://gohugo.io/"
                    target="_blank"
                    rel="noopener noreferrer"
                    >Hugo (v{{ .Site.Hugo.Version }})</a
                >, Themed by
                <a
                    href="https://github.com/panr/hugo-theme-hello-friend"
                    target="_blank"
                    rel="noopener noreferrer"
                    >Hello Friend</a
                >, Made with <span class="emoji">❤</span> {{ partial "githash.html" . }}
            </span>
        </div>
        <div class="copyright">
            <span>
                Licensed under
                <span>
                    <a
                        href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"
                        target="_blank"
                        rel="noopener noreferrer"
                        >BY-NC-SA 4.0</a
                    ></span
                >,
                <span
                    ><a
                        href="https://app.fossa.com/projects/git%2Bgithub.com%2Feallion%2Feallion.com"
                        target="_blank"
                        rel="noopener noreferrer"
                        >MIT</a
                    ></span
                >,
                <span>
                    <a
                        href="https://app.fossa.com/projects/git%2Bgithub.com%2Feallion%2Feallion.com"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Apache-2.0</a
                    ></span
                >.
            </span>
        </div>
        <div class="copyright">
            <span
                ><i class="iconfont icon-icp"></i>
                <a
                    href="https://beian.miit.gov.cn/"
                    target="_blank"
                    rel="noopener noreferrer"
                    >浙 ICP 备 16031768 号-2</a
                >
                <i class="iconfont icon-privacy"></i>
                <a
                    href="https://eallion.com/privacy-policy/"
                    target="_self"
                    rel="noopener noreferrer"
                    >隐私政策</a
                >
            </span>
        </div>
        {{ end }}
    </div>
</footer>
<a class="to-top back-to-top"><i class="iconfont icon-up"></i></a>
{{ partial "footer-js.html" . }}
<script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js"
></script>
<script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"
></script>
<script>
    pangu.spacingElementByClassName("content");
</script>
<meta name="apple-mobile-web-app-capable" content="yes" />
<script>
    // Check that service workers are registered
    if ("serviceWorker" in navigator) {
        // Use the window load event to keep the page load performant
        window.addEventListener("load", () => {
            navigator.serviceWorker.register("/service-worker.js");
        });
    }
</script>
{{- if .Site.Params.noticeable.enable -}}
<script>
    !(function () {
        "use strict";
        var e = [
            "debug",
            "destroy",
            "do",
            "help",
            "identify",
            "is",
            "off",
            "on",
            "ready",
            "render",
            "reset",
            "safe",
            "set",
        ];
        if (window.noticeable)
            console.warn("Noticeable SDK code snippet loaded more than once");
        else {
            var n = function (e) {
                    return function () {
                        var n = Array.prototype.slice.call(arguments);
                        return n.unshift(e), t.push(n), t;
                    };
                },
                t = (window.noticeable = window.noticeable || []);
            !(function () {
                for (var o = 0; o < e.length; o++) {
                    var r = e[o];
                    t[r] = n(r);
                }
            })(),
                (function () {
                    var e = document.createElement("script");
                    (e.async = !0), (e.src = "https://sdk.noticeable.io/l.js");
                    var n = document.head;
                    n.insertBefore(e, n.firstChild);
                })();
        }
    })();
    noticeable.render("widget", "{{ .Site.Params.noticeable.id }}");
</script>
{{ end }}
